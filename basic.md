# 基础

### cpu、进程、线程的关系
+ 一个进程可以包括多个线程，多个线程共享进程资源  
+ 进程是cpu资源分配的最小单位  
+ 线程是cpu调度的最小单位  
+ 不同进程之间可以通信，代价很大
+ 单线程与多线程，都是指在一个进程内的单和多

### 渲染进程包含哪些线程
+ GUI渲染线程：负责渲染页面，布局和绘制；与js引擎线程互斥
+ JS引擎线程：负责处理解析和执行js脚本程序；只有一个js引擎线程(单线程)
+ 事件触发线程：控制事件循环；满足触发条件时，将事件放入js引擎所在的执行队列中
+ 定时触发器线程：setInterval和setTimeout所在的线程；定时任务不是由js引擎计时；计时完毕后通知事件触发线程
+ 异步http请求线程：浏览器有一个单独的线程用于处理ajax请求

### 为什么js是单线程
同时操作dom的时，在多线程不加锁的情况下，最终会导致dom渲染的结果不可预期

### 为什么gui渲染线程与js引擎线程互斥
js是可以操作dom的，如果同时修改元素属性并同时渲染页面，那么渲染线程前后获得的元素可能不一致  
因此当js引擎线程执行时gui渲染引擎会被挂起

### Event Loop
任务分为宏任务和微任务  
会把宏任务和微任务添加到宏任务队列和微任务队列中  
执行一个宏任务过程中如果遇到微任务，就将它添加到微任务队列中  
宏任务执行完毕后，立即执行当前微任务队列中的所有微任务  
当前宏任务执行完毕后，开始检查渲染，然后GUI线程接管渲染  
渲染完毕后，js线程继续接管，开始下一个宏任务

### 宏任务、微任务有哪些
+ 宏任务：主代码块、setTimeout、setInterval等
+ 微任务：promise、process.nextTick等


### webpack构建优化
+ 分包：设置externals，将react, react-dom等基础包通过cdn引入
+ 分离基础脚本，使用dllPlugin和dllReferencePlugin将不经常更新的模块提前构建，每次构建只针对有变化的模块
+ 缩小构建范围，loader不解析node_modules
+ 

### 图片加载优化
使用window.addEventListener捕捉error事件，然后把默认图片赋值给target


